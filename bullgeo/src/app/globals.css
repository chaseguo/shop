@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@custom-variant dark (&:is(.dark *));

/* ── Brand blue palette ── */
:root {
  /* Radius scale — 2xl focus */
  --radius: 0.875rem;

  /* Brand */
  --brand:          221 83% 53%;   /* hsl blue-500 ≈ #3b82f6 */
  --brand-dark:     224 76% 48%;   /* blue-600 */
  --brand-light:    214 100% 97%;  /* blue-50 */

  /* Semantic surface (light) */
  --background:     0 0% 99%;
  --foreground:     222 47% 11%;

  --card:           0 0% 100%;
  --card-foreground: 222 47% 11%;

  --popover:        0 0% 100%;
  --popover-foreground: 222 47% 11%;

  /* Primary = brand blue */
  --primary:        221 83% 53%;
  --primary-foreground: 0 0% 100%;

  --secondary:      214 32% 96%;
  --secondary-foreground: 222 47% 11%;

  --muted:          214 32% 96%;
  --muted-foreground: 215 16% 47%;

  --accent:         214 32% 96%;
  --accent-foreground: 222 47% 11%;

  --destructive:    0 84% 60%;
  --destructive-foreground: 0 0% 100%;

  --border:         214 32% 91%;
  --input:          214 32% 91%;
  --ring:           221 83% 53%;

  /* Success / Warning / Info */
  --success: 160 84% 39%;
  --warning: 38 92% 50%;
  --info:    199 89% 48%;

  /* Sidebar light */
  --sidebar:        0 0% 98%;
  --sidebar-foreground: 222 47% 11%;
  --sidebar-primary: 221 83% 53%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 214 32% 94%;
  --sidebar-accent-foreground: 222 47% 11%;
  --sidebar-border: 214 32% 91%;
  --sidebar-ring:   221 83% 53%;

  /* Chart */
  --chart-1: 221 83% 53%;
  --chart-2: 160 84% 39%;
  --chart-3: 38 92% 50%;
  --chart-4: 270 67% 59%;
  --chart-5: 0 84% 60%;
}

.dark {
  --background:     222 47% 7%;
  --foreground:     210 40% 95%;

  --card:           222 47% 10%;
  --card-foreground: 210 40% 95%;

  --popover:        222 47% 10%;
  --popover-foreground: 210 40% 95%;

  --primary:        221 83% 60%;
  --primary-foreground: 0 0% 100%;

  --secondary:      217 33% 17%;
  --secondary-foreground: 210 40% 95%;

  --muted:          217 33% 17%;
  --muted-foreground: 215 20% 55%;

  --accent:         217 33% 17%;
  --accent-foreground: 210 40% 95%;

  --destructive:    0 72% 51%;
  --destructive-foreground: 0 0% 100%;

  --border:         217 33% 18%;
  --input:          217 33% 18%;
  --ring:           221 83% 60%;

  --sidebar:        222 47% 9%;
  --sidebar-foreground: 210 40% 95%;
  --sidebar-primary: 221 83% 60%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 217 33% 15%;
  --sidebar-accent-foreground: 210 40% 95%;
  --sidebar-border: 217 33% 15%;
  --sidebar-ring:   221 83% 60%;

  --chart-1: 221 83% 62%;
  --chart-2: 160 70% 44%;
  --chart-3: 38 80% 55%;
  --chart-4: 270 60% 65%;
  --chart-5: 0 72% 62%;
}

/* ── Theme map (Tailwind v4) ── */
@theme inline {
  --radius-sm:  calc(var(--radius) - 4px);
  --radius-md:  calc(var(--radius) - 2px);
  --radius-lg:  var(--radius);
  --radius-xl:  calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 16px);

  --color-background:             hsl(var(--background));
  --color-foreground:             hsl(var(--foreground));
  --color-card:                   hsl(var(--card));
  --color-card-foreground:        hsl(var(--card-foreground));
  --color-popover:                hsl(var(--popover));
  --color-popover-foreground:     hsl(var(--popover-foreground));
  --color-primary:                hsl(var(--primary));
  --color-primary-foreground:     hsl(var(--primary-foreground));
  --color-secondary:              hsl(var(--secondary));
  --color-secondary-foreground:   hsl(var(--secondary-foreground));
  --color-muted:                  hsl(var(--muted));
  --color-muted-foreground:       hsl(var(--muted-foreground));
  --color-accent:                 hsl(var(--accent));
  --color-accent-foreground:      hsl(var(--accent-foreground));
  --color-destructive:            hsl(var(--destructive));
  --color-border:                 hsl(var(--border));
  --color-input:                  hsl(var(--input));
  --color-ring:                   hsl(var(--ring));
  --color-chart-1:                hsl(var(--chart-1));
  --color-chart-2:                hsl(var(--chart-2));
  --color-chart-3:                hsl(var(--chart-3));
  --color-chart-4:                hsl(var(--chart-4));
  --color-chart-5:                hsl(var(--chart-5));
  --color-sidebar:                hsl(var(--sidebar));
  --color-sidebar-foreground:     hsl(var(--sidebar-foreground));
  --color-sidebar-primary:        hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent:         hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border:         hsl(var(--sidebar-border));
  --color-sidebar-ring:           hsl(var(--sidebar-ring));
}

/* ── Base ── */
@layer base {
  * {
    @apply border-border outline-ring/50;
    box-sizing: border-box;
  }
  html {
    scroll-behavior: smooth;
  }
  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, "Inter", "PingFang SC",
      "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ── Scrollbar ── */
::-webkit-scrollbar       { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: hsl(var(--border)); border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: hsl(var(--muted-foreground) / 40%); }

/* ── Utility classes ── */
.gradient-text {
  background: linear-gradient(135deg, hsl(var(--primary)), #06b6d4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-warm {
  background: linear-gradient(135deg, #f59e0b, #ef4444);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Hero mesh gradient */
.hero-mesh {
  background-color: hsl(var(--background));
  background-image:
    radial-gradient(ellipse 80% 60% at 50% -10%, hsl(var(--primary) / 12%), transparent),
    radial-gradient(ellipse 60% 40% at 80% 60%, hsl(199 89% 48% / 8%), transparent),
    radial-gradient(ellipse 40% 30% at 10% 80%, hsl(var(--primary) / 6%), transparent);
}
.dark .hero-mesh {
  background-image:
    radial-gradient(ellipse 80% 60% at 50% -10%, hsl(var(--primary) / 18%), transparent),
    radial-gradient(ellipse 60% 40% at 80% 60%, hsl(199 89% 48% / 12%), transparent),
    radial-gradient(ellipse 40% 30% at 10% 80%, hsl(var(--primary) / 8%), transparent);
}

/* Noise texture overlay */
.noise::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  opacity: 0.4;
}

/* Animated gradient border */
@keyframes border-spin {
  to { --angle: 360deg; }
}
@property --angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}
.glow-border {
  border: 1px solid transparent;
  background:
    linear-gradient(hsl(var(--card)), hsl(var(--card))) padding-box,
    linear-gradient(var(--angle), hsl(var(--primary) / 60%), hsl(199 89% 48% / 60%), hsl(var(--primary) / 60%)) border-box;
  animation: border-spin 4s linear infinite;
}

/* Card lift on hover */
.card-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px -4px hsl(var(--primary) / 15%), 0 2px 8px -2px hsl(0 0% 0% / 8%);
}
.dark .card-lift:hover {
  box-shadow: 0 8px 24px -4px hsl(var(--primary) / 25%), 0 2px 8px -2px hsl(0 0% 0% / 30%);
}

/* Fade-in-up animation */
@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(16px); }
  to   { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-up {
  animation: fade-in-up 0.5s ease both;
}
.animate-delay-100 { animation-delay: 100ms; }
.animate-delay-200 { animation-delay: 200ms; }
.animate-delay-300 { animation-delay: 300ms; }
.animate-delay-400 { animation-delay: 400ms; }
.animate-delay-500 { animation-delay: 500ms; }

/* Shine shimmer for CTA */
@keyframes shimmer {
  0%   { background-position: -200% center; }
  100% { background-position: 200% center; }
}
.btn-shimmer {
  background-size: 200% auto;
  background-image: linear-gradient(90deg,
    hsl(var(--primary)) 0%,
    hsl(199 89% 55%) 40%,
    hsl(var(--primary)) 60%,
    hsl(var(--primary)) 100%);
  animation: shimmer 3s linear infinite;
}
